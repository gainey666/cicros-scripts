<?xml version="1.0" encoding="utf-8"?>
<Professionbuddy>
  <CustomAction Code="Log(Color.PapayaWhip, &quot;Welcome to [PB][A] Inscription 1-?? BETA&quot;);" />
  <If Condition="Herbalism.Level &lt; 1" IgnoreCanRun="True">
    <CallSubRoutine SubRoutineName="TrainHerb" />
  </If>
  <If Condition="Inscription.Level &lt; 1" IgnoreCanRun="True">
    <CallSubRoutine SubRoutineName="TrainIns" />
  </If>
  <ChangeBotAction BotName="Gatherbuddy2" />
  <!--SubRoutines-->
  <SubRoutine SubRoutineName="BuyPaper">
    <FlyToAction Dismount="True" Location="-8862.502, 857.1962, 99.60975" />
    <BuyItemAction NpcEntry="30730" Location="-8863.968, 861.5417, 99.60988" ItemID="39354" BuyItemType="SpecificItem" Count="60" BuyAdditively="True" />
  </SubRoutine>
  <SubRoutine SubRoutineName="TrainHerb">
    <CustomAction Code="Log(&quot;I need to train Herbalism. Going to Stormwind to train&quot;);" />
    <FlyToAction Dismount="False" Location="-8968.005, 775.8579, 95.58194" />
    <TrainSkillAction NpcEntry="5566" Location="-8969.993, 779.6597, 96.25" />
  </SubRoutine>
  <SubRoutine SubRoutineName="TrainIns">
    <CustomAction Code="Log(&quot;I need to train Inscription. Going to Stormwind to train&quot;);" />
    <FlyToAction Dismount="True" Location="-8837.083, 849.6367, 99.22051" />
    <TrainSkillAction NpcEntry="30713" Location="-8862.502, 857.1962, 99.60975" />
  </SubRoutine>
  <While Condition="Inscription.Level &gt;= 1 &amp;&amp; Inscription.Level &lt; 75" IgnoreCanRun="True">
    <!--Do we have the needed mats?-->
    <If Condition="InbagCount(38682)+InbagCount(1180)+InbagCount(39151)+InbagCount(37101)+InbagCount(39469)*2 &lt;= 62" IgnoreCanRun="True">
      <If Condition="Me.ZoneId != 12" IgnoreCanRun="True">
        <FlyToAction Dismount="False" Location="-9162.786, 403.5479, 186.8842" />
      </If>
      <LoadProfileAction ProfileType="Honorbuddy" Path="Farm\Alabaster_Pigment_1-75.xml" IsLocal="True" />
      <If Condition="" IgnoreCanRun="True" />
      <While Condition="InbagCount(2447) &gt;= 5" IgnoreCanRun="True">
        <CastSpellAction RepeatType="Specific" Repeat="1" Entry="51005" CastOnItem="True" ItemType="None" ItemId="2447" />
      </While>
      <While Condition="InbagCount(2449) &gt;= 5" IgnoreCanRun="True">
        <CastSpellAction RepeatType="Specific" Repeat="1" Entry="51005" CastOnItem="True" ItemType="None" ItemId="2449" />
      </While>
      <While Condition="InbagCount(765) &gt;= 5" IgnoreCanRun="True">
        <CastSpellAction RepeatType="Specific" Repeat="1" Entry="51005" CastOnItem="True" ItemType="None" ItemId="765" />
      </While>
    </If>
    <!--Making Ivory Ink-->
    <While Condition="InbagCount(39354)  &lt; 10" IgnoreCanRun="True">
      <CallSubRoutine SubRoutineName="BuyPaper" />
    </While>
    <While Condition="Inscription.Level &gt;= 1 &amp;&amp; Inscription.Level &lt;= 19 &amp;&amp; InbagCount(39151) &gt;= 1" IgnoreCanRun="True">
      <If Condition="!HasRecipe(52738)" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Training" />
      </If>
      <CastSpellAction RepeatType="Craftable" Repeat="19" Entry="52739" CastOnItem="False" ItemType="Chest" ItemId="0" />
    </While>
    <While Condition="Inscription.Level &gt;= 19 &amp;&amp; Inscription.Level &lt;= 35 &amp;&amp; InbagCount(37101) &gt;= 1" IgnoreCanRun="True">
      <If Condition="!HasRecipe(45382)" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Training" />
      </If>
      <CastSpellAction RepeatType="Craftable" Repeat="16" Entry="45382" CastOnItem="False" ItemType="Chest" ItemId="0" />
    </While>
    <While Condition="Inscription.Level &gt;= 35 &amp;&amp; Inscription.Level &lt;= 53 &amp;&amp; InbagCount(39151) &gt;= 1" IgnoreCanRun="True">
      <If Condition="!HasRecipe(52843)" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Training" />
      </If>
      <CastSpellAction RepeatType="Craftable" Repeat="22" Entry="52843" CastOnItem="False" ItemType="Chest" ItemId="0" />
    </While>
    <While Condition="Inscription.Level &gt;= 53 &amp;&amp; Inscription.Level &lt;= 75 &amp;&amp; InbagCount(39469) &gt;= 1" IgnoreCanRun="True">
      <If Condition="!HasRecipe(52739)" IgnoreCanRun="True">
        <CallSubRoutine SubRoutineName="Training" />
      </If>
      <CastSpellAction RepeatType="Craftable" Repeat="22" Entry="52739" CastOnItem="False" ItemType="Chest" ItemId="0" />
    </While>
  </While>
  <CustomAction Code="Log(Color.PapayaWhip, &quot;Nothing more todo..&quot;);" />
</Professionbuddy>